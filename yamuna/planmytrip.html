<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Plan My Trip</title>
    <!-- Font Awesome for Icons -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css">
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 0;
            padding: 0;
            display: flex;
            height: 100%;
            /*overflow: hidden;*/
        }
        .background-image {
            flex: 1;
            background-image: url("https://images.unsplash.com/photo-1503220317375-aaad61436b1b?ixlib=rb-1.2.1&auto=format&fit=crop&w=1950&q=80");
            background-size: cover;
            background-position: center;
        }
        .form-container {
            flex: 1;
            display: flex;
            justify-content: center;
            align-items: center;
            background-color: rgba(255, 255, 255, 0.9);
            padding: 20px;
            backdrop-filter: blur(5px);
        }
        .form-content {
            width: 100%;
            max-width: 500px;
        }
        h2 {
            text-align: center;
            color: #007bff;
            margin-bottom: 15px;
            font-size: 24px;
            font-weight: bold;
        }
        label {
            display: block;
            margin-bottom: 6px;
            font-weight: bold;
            color: #333;
        }
        input[type="text"],
        input[type="number"],
        select,
        textarea {
            width: 100%;
            padding: 10px;
            margin-bottom: 15px;
            border: 1px solid #ccc;
            border-radius: 6px;
            font-size: 14px;
            background-color: #f9f9f9;
            transition: border-color 0.3s ease;
        }
        input[type="text"]:focus,
        input[type="number"]:focus,
        select:focus,
        textarea:focus {
            border-color: #007bff;
            outline: none;
        }
        input[type="checkbox"],
        input[type="radio"] {
            margin-right: 8px;
        }
        .checkbox-group {
            margin-bottom: 15px;
        }
        .checkbox-group label {
            font-weight: normal;
            color: #555;
        }
        button {
            width: 100%;
            padding: 10px;
            background-color: #007bff;
            color: white;
            border: none;
            border-radius: 6px;
            font-size: 16px;
            cursor: pointer;
            transition: background-color 0.3s ease;
        }
        button:hover {
            background-color: #0056b3;
        }
        .icon {
            margin-right: 8px;
            color: #007bff;
        }
        .form-header {
            text-align: center;
            margin-bottom: 10px;
        }
        .form-header i {
            font-size: 30px;
            color: #007bff;
        }
        .form-footer {
            text-align: center;
            margin-top: 15px;
            color: #777;
            font-size: 12px;
        }
    </style>
</head>
<body>
    <div class="background-image"></div>
    <div class="form-container">
        <div class="form-content">
            <div class="form-header">
                <i class="fas fa-plane-departure"></i>
                <h2>Plan My Trip</h2>
            </div>
            <form id="touristForm">
                <!-- Name -->
                <label for="name"><i class="fas fa-user icon"></i>Name:</label>
                <input type="text" id="name" name="name" placeholder="Enter your name" required>

                <!-- Mobile Number -->
                <label for="mobile"><i class="fas fa-phone icon"></i>Mobile Number:</label>
                <input type="text" id="mobile" name="mobile" placeholder="Enter your mobile number" required>

                <!-- Number of Members -->
                <label for="members"><i class="fas fa-users icon"></i>Number of Travelers:</label>
                <input type="number" id="members" name="members" placeholder="Enter number of members" required>

                <!-- Current Location -->
                <label for="currentLocation"><i class="fas fa-map-marker-alt icon"></i>Current Location:</label>
                <input type="text" id="currentLocation" name="currentLocation" placeholder="Enter your current location" required>

                <!-- Destination -->
                <label for="destination"><i class="fas fa-map-marked-alt icon"></i>Destination:</label>
                <input type="text" id="destination" name="destination" placeholder="Enter your destination" required>

                <!-- With Guide or Without Guide -->
                <label><i class="fas fa-compass icon"></i>Do you require a guide?</label>
                <div class="checkbox-group">
                    <label>
                        <input type="radio" name="guide" value="with-guide" required> Yes
                        <input type="radio" name="guide" value="without-guide"> No
                    </label>
                </div>

                <!-- Guide Fee (default set to 2000) -->
                <label for="guideFee"><i class="fas fa-money-bill-wave icon"></i>Guide Fee:</label>
                <input type="number" id="guideFee" name="guideFee" value="2000" readonly>

                <!-- Transportation Mode -->
                <label for="transportationMode"><i class="fas fa-bus icon"></i>Transportation Mode:</label>
                <select id="transportationMode" name="transportationMode" required>
                    <option value="Bus" selected>Bus</option>
                    <option value="Car">Car</option>
                    <option value="Bike">Bike</option>
                    <option value="Train">Train</option>
                    <option value="Other">Other</option>
                </select>

                <!-- Additional Details -->
                <label for="details"><i class="fas fa-info-circle icon"></i>Additional Details:</label>
                <textarea id="details" name="details" rows="3" placeholder="Enter any additional details"></textarea>

                <!-- Submit Button -->
                <button type="submit"><i class="fas fa-paper-plane icon"></i>Submit</button>
            </form>
            <div class="form-footer">
                <p>© 2023 Plan My Trip. All rights reserved.</p>
            </div>
        </div>
    </div>

    <script>
        // Replace with your Google Maps API Key
        const API_KEY = 'YOUR_GOOGLE_MAPS_API_KEY';

        // Function to calculate distance using Google Maps Distance Matrix API
        async function calculateDistance(origin, destination) {
            const url = `https://maps.googleapis.com/maps/api/distancematrix/json?units=metric&origins=${encodeURIComponent(origin)}&destinations=${encodeURIComponent(destination)}&key=${API_KEY}`;

            try {
                const response = await fetch(url);
                const data = await response.json();

                if (data.status === 'OK') {
                    const distance = data.rows[0].elements[0].distance.value / 1000; // Distance in kilometers
                    return distance;
                } else {
                    throw new Error('Unable to calculate distance. Please check the locations.');
                }
            } catch (error) {
                console.error('Error fetching distance:', error);
                alert('Error calculating distance. Please try again.');
                return null;
            }
        }

        // Handle form submission
        document.getElementById('touristForm').addEventListener('submit', async function(event) {
            event.preventDefault(); // Prevent form from submitting

            // Collect form data
            const formData = {
                name: document.getElementById('name').value,
                mobile: document.getElementById('mobile').value,
                members: document.getElementById('members').value,
                currentLocation: document.getElementById('currentLocation').value,
                destination: document.getElementById('destination').value,
                guide: document.querySelector('input[name="guide"]:checked').value,
                guideFee: document.getElementById('guideFee').value,
                transportationMode: document.getElementById('transportationMode').value,
                details: document.getElementById('details').value || 'No additional details'
            };

            // Calculate distance using Google Maps API
            const distance = await calculateDistance(formData.currentLocation, formData.destination);

            if (distance === null) return; // Exit if distance calculation fails

            // Calculate total trip cost
            const costPerKmPerPerson = 10; // ₹10 per kilometer per person
            const totalTripCost = distance * costPerKmPerPerson * formData.members;

            // Add guide fee if required
            if (formData.guide === 'with-guide') {
                totalTripCost += parseInt(formData.guideFee);
            }

            // Display trip details and total cost
            const tripDetails = `
                Trip Details:
                Name: ${formData.name}
                Mobile Number: ${formData.mobile}
                Number of Travelers: ${formData.members}
                Current Location: ${formData.currentLocation}
                Destination: ${formData.destination}
                Distance: ${distance.toFixed(2)} km
                Transportation Mode: ${formData.transportationMode}
                Guide Required: ${formData.guide === 'with-guide' ? 'Yes' : 'No'}
                Additional Details: ${formData.details}
                Total Trip Cost: ₹${totalTripCost.toFixed(2)}
            `;

            alert(tripDetails);
            console.log('Trip Details:', tripDetails);
        });
    </script>
</body>
</html>
